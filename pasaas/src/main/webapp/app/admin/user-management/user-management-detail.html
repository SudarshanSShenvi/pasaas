<form 
    name="editForm" 
    role="form" 
    novalidate 
    ng-submit="vm.save()" 
    class="animated fadeInDown" 
    show-validation
>   

    <div class="modal-header bg-primary">
        <button 
            type="button" 
            class="close" 
            aria-hidden="true"
            ui-sref="{{ vm.previousState }}" 
        >&times;</button>
        <!-- <button 
            type="button" 
            class="close" 
            data-dismiss="modal" 
            aria-hidden="true"
            ng-click="vm.clear()"
        >&times;</button> -->
        
        <h4 
            class="modal-title" 
            id="myUserLabel" 
            data-translate="userManagement.home.createOrEditLabel"
        >User</h4>
    </div>

    <div class="modal-body">
        <jhi-alert-error></jhi-alert-error>
        <div class="row">
            <div class="col-lg-8">
                <div class="form-group">
                    <label data-translate="global.field.id">ID</label>
                    <input type="text" class="form-control" name="id"
                           ng-model="vm.user.id" readonly>
                </div>

                <div class="form-group">
                    <label class="control-label" data-translate="userManagement.login">Login</label>
                    <input type="text" class="form-control" name="login"
                           ng-model="vm.user.login" ng-required="vm.user.id == null" ng-minlength=1 ng-maxlength=50 ng-pattern="/^[_'.@A-Za-z0-9-]*$/" readonly>

                    <div ng-show="editForm.login.$invalid">
                        <p class="help-block"
                           ng-show="editForm.login.$error.required" data-translate="entity.validation.required">
                            This field is required.
                        </p>

                        <p class="help-block"
                           ng-show="editForm.login.$error.maxlength" data-translate="entity.validation.maxlength"
                           translate-value-max="50">
                            This field cannot be longer than 50 characters.
                        </p>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label" data-translate="userManagement.firstName">First Name</label>
                    <input type="text" class="form-control" name="firstName"
                           ng-model="vm.user.firstName" ng-maxlength="50" readonly>

                    <div ng-show="editForm.firstName.$invalid">
                        <p class="help-block"
                           ng-show="editForm.firstName.$error.maxlength" data-translate="entity.validation.maxlength"
                           translate-value-max="50">
                            This field cannot be longer than 50 characters.
                        </p>
                    </div>
                </div>

                <div class="form-group">
                    <label data-translate="userManagement.lastName">Last Name</label>
                    <input type="text" class="form-control" name="lastName"
                           ng-model="vm.user.lastName" ng-maxlength="50" readonly>

                    <div ng-show="editForm.lastName.$invalid">
                        <p class="help-block"
                           ng-show="editForm.lastName.$error.maxlength" data-translate="entity.validation.maxlength"
                           translate-value-max="50">
                            This field cannot be longer than 50 characters.
                        </p>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label" data-translate="userManagement.email">Email</label>
                    <input type="email" class="form-control" name="email"
                           ng-model="vm.user.email" required ng-maxlength="100" readonly>

                    <div ng-show="editForm.email.$invalid">
                        <p class="help-block"
                           ng-show="editForm.email.$error.required" data-translate="entity.validation.required">
                            This field is required.
                        </p>

                        <p class="help-block"
                           ng-show="editForm.email.$error.maxlength" data-translate="entity.validation.maxlength"
                           translate-value-max="100">
                            This field cannot be longer than 100 characters.
                        </p>
                        <p class="help-block"
                           ng-show="editForm.email.$error.email" data-translate="global.messages.validate.email.invalid">
                            Your e-mail is invalid.
                         </p>
                    </div>
                </div>

                
            </div>
            <div class="col-lg-4">
                <div 
                    class="form-group" 
                    ngf-drop ngf-change="vm.setImage($file, vm.user)" 
                    ngf-pattern="'image/*'"
                >
                    <label 
                        class="control-label" 
                        translate="imgcheckApp.imgc.image" 
                        for="field_image"
                    >Image</label>
                    <div>
                        <!-- <img 
                            data-ng-src="{{'data:' + vm.imgc.imageContentType + ';base64,' + my_img}}"
                            style="max-height: 100px;" 
                        /> -->
                            <!-- ng-if="vm.imgc.image" -->
                        <img 
                            data-ng-src="
                                {{
                                    'data:' + vm.user.imageContentType + 
                                    ';base64,' + vm.user.image
                                }}
                            " 
                            alt="User Image" 
                            width="100%" 
                            class="img-thumbnail"
                            ng-if="vm.user.image"
                        />
                        <img 
                            src="content/images/avatar.png" 
                            alt="User Image" 
                            width="100%" 
                            class="img-thumbnail" 
                            ng-if="!vm.user.image"
                        />
                        <!-- <div ng-if="vm.user.image" class="help-block clearfix">
                            <span class="pull-left">
                                {{vm.user.imageContentType}}, {{vm.byteSize(vm.user.image)}}
                            </span>
                            <button 
                                ng-click="vm.user.image=null;vm.user.imageContentType=null;"
                                class="btn btn-default btn-xs pull-right"
                            >
                                <span class="glyphicon glyphicon-remove"></span>
                            </button>
                        </div> -->
                        <button 
                            type="file" 
                            ngf-select class="btn btn-default btn-block"
                            ngf-change="vm.setImage($file, vm.user)" 
                            accept="image/*" 
                            translate="entity.action.addimage"
                            ng-disabled="true"
                        >
                            Add image
                        </button>
                    </div>
                    <input 
                        type="hidden" 
                        class="form-control" 
                        name="image" 
                        id="field_image"
                        ng-model="vm.user.image"
                    />
                    <input 
                        type="hidden" 
                        class="form-control" 
                        name="imageContentType" 
                        id="field_imageContentType"
                        ng-model="vm.uer.imageContentType" 
                    />
                </div>

                <div class="form-group">
                    <label for="activated">
                        <span data-translate="userManagement.activated">Activated</span>
                        <input 
                            type="checkbox" 
                            id="activated" 
                            name="activated" 
                            ng-model="vm.user.activated"
                            ng-disabled="true"
                        >
                            <!-- ng-disabled="vm.user.id === null"  -->
                    </label>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-8">
                <div class="form-group">
                    <label data-translate="userManagement.defaultOrganization">Default Organization</label>
                    <input type="test" class="form-control" name="defaultOrganization"
                           ng-model="vm.user.defaultOrganization" required ng-maxlength="100" readonly>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="form-group">
                    <label data-translate="userManagement.langKey">Lang Key</label>
                    <input 
                        type="text" 
                        class="form-control" 
                        name="langKey" 
                        ng-model="vm.user.langKey"
                        readonly
                    >
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-lg-4">
                <div class="form-group">
                    <label data-translate="userManagement.profiles">Profiles</label>
                    <select 
                        class="form-control" 
                        multiple 
                        name="authority" 
                        ng-model="vm.user.authorities"
                        ng-options="authority for authority in vm.user.authorities" 
                        ng-disabled="true"
                    >
                    </select>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="form-group">
                    <label data-translate="userManagement.organizations">Organizations</label>
                    <select 
                        class="form-control" 
                        multiple 
                        name="organization" 
                        ng-model="vm.user.organizations"
                        ng-options="organization for organization in vm.user.organizations" ng-disabled="true"
                    >
                    </select>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="form-group">
                    <label data-translate="userManagement.projects">Projects</label>
                    <select class="form-control" multiple name="project" ng-model="vm.user.projects"
                            ng-options="project for project in vm.user.projects" ng-disabled="true">
                    </select>
                </div>
            </div>
        </div>

        <!-- <pre>{{vm.user| json}}</pre> -->
        
    </div>

    <div class="modal-footer">
        <button 
            type="button" 
            class="btn btn-default" 
            ui-sref="{{ vm.previousState }}" 
        >
        <!-- <button 
            type="button" 
            class="btn btn-default" 
            data-dismiss="modal" 
            ng-click="vm.clear()"
        > -->
            <span class="glyphicon glyphicon-ban-circle"></span>&nbsp;
            <span data-translate="entity.action.cancel">Cancel</span>
        </button>
        <!-- <button 
            type="submit" 
            ng-disabled="editForm.$invalid || vm.isSaving" 
            class="btn btn-primary"
        >
            <span class="glyphicon glyphicon-save"></span>&nbsp;
            <span data-translate="entity.action.save">Save</span>
        </button> -->
    </div>
    <div class="modal-footer">&nbsp;</div>
</form>


<!-- <div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox">
                <div class="ibox-title">
                    <h5>Name</h5>
                </div>

                <div class="ibox-content">
                    
                </div>
            </div>
        </div>
    </div>
</div> -->

<!-- <div>
    <h2><span data-translate="userManagement.detail.title">User</span> "{{vm.user.login}}"</h2>
    <dl class="dl-horizontal">
        <dt><span data-translate="userManagement.login">Login</span></dt>
        <dd><span>{{vm.user.login}}</span></dd>
        <dt><span data-translate="userManagement.firstName">First Name</span></dt>
        <dd>{{vm.user.firstName}}</dd>
        <dt><span data-translate="userManagement.lastName">Last Name</span></dt>
        <dd>{{vm.user.lastName}}</dd>
        <dt><span data-translate="userManagement.email">Email</span></dt>
        <dd>{{vm.user.email}}</dd>
        <dt><span data-translate="userManagement.activated">Activated</span></dt>
        <dd>{{vm.user.activated}}</dd>
        <dt><span data-translate="userManagement.langKey">Lang Key</span></dt>
        <dd>{{vm.user.langKey}}</dd>
        <dt><span data-translate="userManagement.createdBy">Created By</span></dt>
        <dd>{{vm.user.createdBy}}</dd>
        <dt><span data-translate="userManagement.createdDate">Created Date</span></dt>
        <dd>{{vm.user.createdDate | date:'dd/MM/yy HH:mm' }}</dd>
        <dt><span data-translate="userManagement.lastModifiedBy">Last Modified By</span></dt>
        <dd>{{vm.user.lastModifiedBy}}</dd>
        <dt><span data-translate="userManagement.lastModifiedDate">Last Modified Date</span></dt>
        <dd>{{vm.user.lastModifiedDate | date:'dd/MM/yy HH:mm'}}</dd>
        <dt><span data-translate="userManagement.profiles">Profiles</span></dt>
        <dd>
            <ul class="list-unstyled">
                <li ng-repeat="authority in vm.user.authorities"><span>{{authority}}</span></li>
            </ul>
        </dd>
    </dl>
    <dt><span data-translate="userManagement.organizations">Organizations</span></dt>
        <dd>
            <ul class="list-unstyled">
                <li ng-repeat="organization in vm.user.organizations"><span>{{organization}}</span></li>
            </ul>
        </dd>
    </dl>
    <dt><span data-translate="userManagement.projects">Projects</span></dt>
        <dd>
            <ul class="list-unstyled">
                <li ng-repeat="project in vm.user.projects"><span>{{project}}</span></li>
            </ul>
        </dd>
    </dl>
    <button type="submit"
            ui-sref="user-management"
            class="btn btn-info">
        <span class="glyphicon glyphicon-arrow-left"></span>&nbsp;<span data-translate="entity.action.back"> Back</span>
    </button>
</div> -->
